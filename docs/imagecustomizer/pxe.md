# pxe configuration

Specifies the PXE-specific configuration for the generated OS artifacts.

## isoImageBaseUrl [string]

Specifies the base URL for the ISO image to download at boot time. The Azure
Linux Image Customizer will append the output image name to the specified base
URL to form the full URL for downloading the image. The output image name is
specified on the command-line using the `--output-image file` argument (see the
  [command-line interface](./cli.md) document for more details).

This can be useful if the ISO image name changes with each build and the
script deploying the artifacts to the PXE server does not update grub.cfg with
the ISO image name.

For example,

- If the user has the following content in the configuration file:

  ```yaml
  pxe:
    isoImageBaseUrl: http://hostname-or-ip/iso-publish-path
  ```

- and specifies the following on the command line:

  ```bash
  sudo imagecustomizer \
    --image-file "./input/azure-linux.vhdx" \
    --config-file "./input/customization-config.yaml" \
    --rpm-source "./input/rpms" \
    --build-dir "./build" \
    --output-image-format "iso" \
    --output-image-file "./build/output/output.iso" \
    --output-pxe-artifacts-dir "./build/output/pxe-artifacts"
  ```

- then, during PXE booting, the ISO image will be downloaded from:

  ```bash
  http://hostname-or-ip/iso-publish-path/output.iso
  ```

This field is mutually exclusive with `isoImageFileUrl`.

For an overview of Azure Linux Image Customizer support for PXE, see the
[PXE support page](./pxe-detailed.md).

## isoImageFileUrl [string]

Specifies the URL of the ISO image to download at boot time.
The ISO image must be a LiveOS ISO image generated by the Azure Linux Image
Customizer. The booting process will pivot to the root file system embedded
in the ISO image after downloading it.

PXE Configuration Example:

- ```yaml
  pxe:
    isoImageFileUrl: http://hostname-or-ip/iso-publish-path/my-liveos.iso
  ```

The supported download protocols are: nfs, http, https, ftp, torent, tftp.

This field is mutually exclusive with `isoImageBaseUrl`.

For an overview of Azure Linux Image Customizer support for PXE, see the
[PXE support page](./pxe-detailed.md).
